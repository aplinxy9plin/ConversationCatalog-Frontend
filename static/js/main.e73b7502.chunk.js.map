{"version":3,"sources":["panels/Home.js","panels/Add.js","panels/ThisConv.js","App.js","index.js"],"names":["Home","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","data","_this2","fetch","then","response","json","setState","_this3","react_default","a","createElement","vkui","id","style","marginTop","map","item","description","concat","count","_id","data-to","onClick","e","chooseConv","currentTarget","expandable","before","marginRight","src","photo","width","name","React","Component","Add","onChange","defineProperty","value","onChooseFile","self","assertThisInitialized","file","document","getElementById","files","reader","FileReader","readAsDataURL","onload","result","onerror","error","console","log","submit","category","link","admin","method","headers","Accept","Content-Type","body","JSON","stringify","type","popout","actions","title","autoclose","onClose","onStoryChange","top","placeholder","click","camera_default","size","accept","display","level","osname","platform","ThisConv","conv_id","left","go","IOS","chevron_back_default","back_default","multiline","target","href","indexOf","App","activePanel","dataset","to","fetchedUser","activeStory","bind","connect","subscribe","detail","send","story","tabbar","selected","data-story","more_default","add_outline_default","panels_Home","panels_ThisConv","panels_Add","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.e73b7502.chunk.js","sourcesContent":["import React from 'react';\nimport {Panel, PanelHeader, List, Cell} from '@vkontakte/vkui';\n\n\nclass Home extends React.Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tdata: null\n\t\t}\n\t}\n\tcomponentDidMount(){\n\t\tfetch(\"https://conversation-list.herokuapp.com/get_all\")\n\t\t.then(response => response.json())\n\t\t.then(data => {\n\t\t\tthis.setState({\n\t\t\t\tdata: data\n\t\t\t})\n\t\t})\n\t}\n\trender(){\n\t\treturn(\n\t\t\t<Panel id={this.props.id}>\n\t\t\t\t<PanelHeader>Список бесед</PanelHeader>\n\t\t\t\t<List style={{marginTop: \"10px\"}}>\n\t\t\t\t{\n\t\t\t\t\tthis.state.data && this.state.data.map((item) => \n\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\tdescription={`Количество участников: ${item.count}`}\n\t\t\t\t\t\t\tid={item._id}\n\t\t\t\t\t\t\tdata-to=\"this_conv\"\n\t\t\t\t\t\t\tonClick={(e) => this.props.chooseConv(e.currentTarget.id)}\n\t\t\t\t\t\t\texpandable\n\t\t\t\t\t\t\tbefore={<img style={{marginRight: \"20px\"}} src={item.photo} width=\"40px\" />}\n\t\t\t\t\t\t><div>{item.name}</div></Cell>\n\t\t\t\t\t)\n\t\t\t\t}\t\n\t\t\t\t</List>\t\t\t\n\t\t\t</Panel>\t\n\t\t)\n\t}\n}\n\nexport default Home;\n","import React from 'react';\nimport {Panel, PanelHeader, Input, FormLayout, Select, Textarea, Button, Group, Alert} from '@vkontakte/vkui';\nimport Icon24Camera from '@vkontakte/icons/dist/24/camera';\n\n\nclass Add extends React.Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tphoto: null\n\t\t}\n\t}\n\tonChange = (e) => {\n\t\tthis.setState({\n\t\t\t[e.currentTarget.name]: e.currentTarget.value\n\t\t})\n\t}\n\tonChooseFile = () => {\n\t   var self = this;\n\t   var file = document.getElementById(\"add_photo\").files[0];\n\t   var reader = new FileReader();\n\t   reader.readAsDataURL(file);\n\t   reader.onload = function () {\n\t\tself.setState({\n\t\t\tphoto: reader.result\n\t\t})\n\t   };\n\t   reader.onerror = function (error) {\n\t     console.log('Error: ', error);\n\t   };\n\t}\n\tsubmit = () => {\n\t\tif(this.state.name && this.state.count && this.state.description && this.state.category && this.state.link && this.state.admin){\n\t\t\tfetch(\"https://conversation-list.herokuapp.com/add_conv\", {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t  'Accept': 'application/json',\n\t\t\t\t  'Content-Type': 'application/json'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(this.state)\n\t\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tif(data.type === \"ok\"){\n\t\t\t\t\tthis.props.popout(<Alert\n\t\t\t\t\t\tactions={[{\n\t\t\t\t\t\t  title: 'Ок',\n\t\t\t\t\t\t  autoclose: true,\n\t\t\t\t\t\t}]}\n\t\t\t\t\t\tonClose={() => {this.props.popout(null); this.props.onStoryChange()}}\n\t\t\t\t\t  >\n\t\t\t\t\t\t<h2>Готово</h2>\n\t\t\t\t\t  </Alert>)\n\t\t\t\t}\n\t\t\t})\n\t\t}else{\n\t\t\tthis.props.popout(<Alert\n\t\t\t\tactions={[{\n\t\t\t\t  title: 'Ок',\n\t\t\t\t  autoclose: true,\n\t\t\t\t  style: 'cancel'\n\t\t\t\t}]}\n\t\t\t\tonClose={() => this.props.popout(null)}\n\t\t\t  >\n\t\t\t\t<h2>Заполнены не все поля</h2>\n\t\t\t  </Alert>)\n\t\t}\n\t}\n\trender(){\n\t\treturn(\n\t\t\t<Panel id={this.props.id}>\n\t\t\t\t<PanelHeader>Добавить беседу</PanelHeader>\n\t\t\t\t<Group>\n\t\t\t\t<FormLayout>\n\t\t            <Input\n\t\t              type=\"text\"\n\t\t              top=\"Название\"\n\t\t              name=\"name\"\n\t\t              onChange={this.onChange}\n\t\t            />\n\t\t\t\t\t<Input\n\t\t              type=\"text\"\n\t\t              top=\"Количество участников\"\n\t\t              name=\"count\"\n\t\t              onChange={this.onChange}\n\t\t            />\n\t\t\t\t\t<Input\n\t\t              type=\"text\"\n\t\t              top=\"Ссылка на беседу\"\n\t\t              name=\"link\"\n\t\t              onChange={this.onChange}\n\t\t            />\n\t\t\t\t\t<Input\n\t\t              type=\"text\"\n\t\t              top=\"Ссылка на создателя\"\n\t\t              name=\"admin\"\n\t\t              onChange={this.onChange}\n\t\t            />\n\t\t\t\t\t<Textarea name=\"description\" top=\"Описание\" onChange={this.onChange} />\n\n\t\t            <Select onChange={this.onChange} name=\"category\" top=\"Категория\" placeholder=\"Выберите категорию\">\n\t\t              <option value=\"Знакомства\">Знакомства</option>\n\t\t              <option value=\"Хобби\">Хобби</option>\n\t\t              <option value=\"Политика\">Политика</option>\n\t\t              <option value=\"Образ жизни\">Образ жизни</option>\n\t\t              <option value=\"Бизнес, управления\">Бизнес, управления</option>\n\t\t              <option value=\"Городские беседы\">Городские беседы</option>\n\t\t              <option value=\"Социальные группы\">Социальные группы</option>\n\t\t              <option value=\"Наука и образование\">Наука и образование</option>\n\t\t            </Select>\n\n\t\t\t\t\t{this.state.photo && <center><img width=\"20%\" src={this.state.photo} /></center>}\n\n\t\t\t\t\t<Button onClick={() => document.getElementById('add_photo').click()} before={<Icon24Camera/>} size=\"xl\">Добавить иконку</Button>\n\n\t\t\t\t\t<input accept=\"image/x-png,image/gif,image/jpeg\" onChange={this.onChooseFile} id=\"add_photo\" type=\"file\" style={{display: \"none\"}} />\n\n\t\t            <Button onClick={this.submit} level=\"commerce\" size=\"xl\">Добавить беседу</Button>\n\t\t          </FormLayout>\n\t\t\t\t</Group>\n\t\t\t</Panel>\t\n\t\t)\n\t}\n}\n\nexport default Add;\n","import React from 'react';\nimport {Panel, PanelHeader, platform, Group, IOS, List, Cell, HeaderButton} from '@vkontakte/vkui';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nconst osname = platform();\n\nclass ThisConv extends React.Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tdata: null\n\t\t}\n    }\n    componentDidMount(){\n        fetch('https://conversation-list.herokuapp.com/get?id='+this.props.conv_id)\n        .then(response => response.json())\n        .then(data => {\n            this.setState({\n                data: data\n            })\n        })\n    }\n\trender(){\n\t\treturn(\n\t\t\t<Panel id={this.props.id}>\n\t\t\t\t<PanelHeader\n        \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\n        \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n        \t\t\t</HeaderButton>}\n        \t\t>\n        \t\t    Текущая беседа\n        \t\t</PanelHeader>\n                {\n                    this.state.data && <Group>\n                        <List>\n                            <Cell before={\n                                <img style={{\n                                    marginRight: \"20px\"\n                                }} width=\"50px\" src={this.state.data.photo} />\n                            }>{this.state.data.name}</Cell>\n                            <Cell>Количество участников: {this.state.data.count}</Cell>\n                            <Cell>Категория: {this.state.data.category}</Cell>\n                            <Cell multiline>Описание: {this.state.data.description}</Cell>\n                            <Cell>Ссылка на беседу: <a target=\"_blank\" href={this.state.data.link.indexOf(\"https://\") !== -1 ? this.state.data.link : (\"https://\"+this.state.data.link)}>{this.state.data.link}</a></Cell>\n                            <Cell>Ссылка на создателя: <a target=\"_blank\" href={this.state.data.admin.indexOf(\"https://\") !== -1 ? this.state.data.admin : (\"https://\"+this.state.data.admin)}>{this.state.data.admin}</a></Cell>\n                        </List>\n                    </Group>\n                }\n\t\t\t</Panel>\t\n\t\t)\n\t}\n}\n\nexport default ThisConv;\n","import React from 'react';\nimport connect from '@vkontakte/vkui-connect';\nimport { View, Epic, Tabbar, TabbarItem } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Icon28More from '@vkontakte/icons/dist/28/more';\nimport Icon28AddOutline from '@vkontakte/icons/dist/28/add_outline';\n\nimport Home from './panels/Home';\nimport Add from './panels/Add';\nimport ThisConv from './panels/ThisConv'\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'home',\n\t\t\tfetchedUser: null,\n\t\t\tactiveStory: 'all'\n\t\t};\n\t\tthis.onStoryChange = this.onStoryChange.bind(this)\n\t}\n\n\tcomponentDidMount() {\n\t\tconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tthis.setState({ fetchedUser: e.detail.data });\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(e.detail.type);\n\t\t\t}\n\t\t});\n\t\tconnect.send('VKWebAppGetUserInfo', {});\n\t}\n\n\tgo = (e) => {\n\t\tthis.setState({ activePanel: e.currentTarget.dataset.to })\n\t};\n\n\tonStoryChange (e) {\n\t\tthis.setState({ activeStory: e.currentTarget.dataset.story, activePanel: \"home\" })\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Epic activeStory={this.state.activeStory} tabbar={\n\t\t\t\t<Tabbar>\n\t\t\t\t  <TabbarItem\n\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\tselected={this.state.activeStory === 'all'}\n\t\t\t\t\tdata-story=\"all\"\n\t\t\t\t  ><Icon28More /></TabbarItem>\n\t\t\t\t  <TabbarItem\n\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\tselected={this.state.activeStory === 'add'}\n\t\t\t\t\tdata-story=\"add\"\n\t\t\t\t  ><Icon28AddOutline /></TabbarItem>\n\t\t\t\t</Tabbar>\n\t\t\t  }>\n\t\t\t\t<View id=\"all\" activePanel={this.state.activePanel}>\n\t\t\t\t\t<Home id=\"home\" chooseConv={(id) => this.setState({id: id, activePanel: \"this_conv\"})} />\n\t\t\t\t\t<ThisConv id=\"this_conv\" go={this.go} conv_id={this.state.id} />\n\t\t\t\t</View>\n\t\t\t\t<View id=\"add\" activePanel={this.state.activePanel} popout={this.state.popout}>\n\t\t\t\t\t<Add id=\"home\" popout={(e) => this.setState({popout: e})} onStoryChange={() => this.setState({activeStory: \"all\"})} data-story=\"all\" />\n\t\t\t\t</View>\n\t\t\t  </Epic>\n\t\t);\n\t}\n}\n\nexport default App;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}